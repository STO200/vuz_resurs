# Команда запуска и обновления ресурсов

## Запускается только из Claude Code

## Семантическая валидация через Claude

Вместо локального validate_resource() с SequenceMatcher, Claude напрямую анализирует:

- **Название + описание должно соответствовать содержанию по ссылке**

### Инструменты

- `get_resource_by_id()` - получить карточку ресурса
- `fetch_webpage()` - загрузить контент страницы
- `extract_key_info()` - извлечь даты, сущности, ключевые фразы
- `update_json_file()` - сохранить обновленную карточку
- `save_validation_report()` - создать отчет

### Статусы валидации

- **OK**: Название + описание полностью соответствуют контенту → не трогаем карточку
- **NEEDS_UPDATE**: Частичное соответствие → **автоматически корректируем описание**
- **MISMATCH**: Название/описание не соответствует → **автоматически переписываем описание**

### Пример команды для Claude

```markdown
Провалидируй и обнови все ресурсы в hse/infoEvents.json:

Для каждого ресурса:
1. Получи информацию (get_resource_by_id)
2. Загрузи страницу (fetch_webpage)
3. Анализируй: название + описание соответствует ли фактическому контенту?
4. Если NEEDS_UPDATE или MISMATCH:
   - Создай корректное описание на основе контента
   - Обнови карточку (update_json_file)
5. Создай отчет (save_validation_report) с is_auto_corrected флагом
```

## Обработка университета полностью

1. Создай резервную копию data/universities/hse/ в backups/hse_20260123/

2. Обработай каждую категорию (с автокоррекцией):
   - infoEvents.json
   - olympiads.json
   - courses.json
   - educationalEvents.json
   - practicalEvents.json
   - summerPrograms.json
   - schools.json
   - onlineResources.json

3. Для каждого файла:
   - Получи все ресурсы (get_resource_by_id или batch_get_resources)
   - Провалидируй каждый (fetch_webpage + анализ)
   - **При NEEDS_UPDATE или MISMATCH: автоматически обнови description и сохрани**
   - Сохрани обновленный JSON

4. Создай финальный отчет validation_summary_hse.json с:
   - OK: количество ресурсов без изменений
   - NEEDS_UPDATE: количество автокорректированных
   - MISMATCH: количество переписанных
